generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model School {
  id               String       @id @default(uuid())
  name             String       @unique @db.VarChar(255)
  subdomain        String       @unique @db.VarChar(50)
  address          Json         // JSON field for full address structure
  level            SchoolLevel  @map("school_level")
  board            String?      @db.VarChar(255)
  schoolCode       String?      @unique @map("school_code") @db.VarChar(50)
  isActive         Boolean      @default(false) @map("is_active")
  phoneNumbers     String[]     @map("phone_numbers") // Array of phone numbers
  email            String?      @db.VarChar(255)
  principalName    String?      @map("principal_name") @db.VarChar(255)
  establishedYear  Int?         @map("established_year") @db.SmallInt
  language         String?      @db.VarChar(50)
  metaData         Json?        @map("meta_data") // JSONB for extensibility
  createdAt        DateTime     @default(now()) @map("created_at")
  updatedAt        DateTime     @updatedAt @map("updated_at")

  // Relations

  @@map("schools")
}

// Enums
enum SchoolLevel {
  primary
  secondary
  higher_secondary
  mixed
}
